# test_work
Тестовое задание для вакансии на Python Backend Developer.

## _Установка и запуск_
Установить приложение можно следуя следующей инструкции:
1. Установить Python 3.12
2. Скопировать файлы проекта в папку
3. Запустить терминал из этой папки
4. Выполнить `docker compose -f docker-compose-local.yml up` для запуска базы данных
5. Запустить ещё один терминал из папки проекта и выполнить:
   - `python3 -m venv .venv`
   - `source .venv/bin/activate`
   - `alembic upgrade head`
   - `uvicorn src.main:app --reload --host 0.0.0.0 --port 8000`

Либо запустить с помощью Docker
   - Открыть терминал из папки проекта
   - Выполнить сборку контейнера `docker compose up`

## _Настройка_
При необходимости в файле конфигурации окружения `.evn` можно изменить:
   - путь к хранилищу `STORAGE_PATH`
   - путь к его volume `DOCKER_PATH` в контейнере
   - опцию `docker` для правильной работы при запуске всего проекта в Docker

## _Использование_
Для тестирования функций приложения можно открыть интерактивную автоматическую интерактивную документацию: http://127.0.0.1:8000/docs#.
### ****Доступные функции:****
* Получение списка информации о всех файлах: `Get All Files Infos`
* Получение информации о конкретном файле по его пути в хранилище: `Get File Info`
* Добавление файла (или замена с обновлением, если он уже существует и параметр `exist_ok==False`): `Upload File`
* Удаление файла: `Delete File`
* Получение информации о файлах, находящихся по определённому пути: `Get Files Infos By Path`
* Загрузка файла: `Download File`
* Обновление информации о файле: `Update File Info`
* Синхронизация информации в базе данных на основе состояния хранилища: `Sync Db With Storage`